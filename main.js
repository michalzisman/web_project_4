!function(){"use strict";var e={937:function(e,t,n){e.exports=n.p+"4e8e0a1d604782a0dff8.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(e,t,n){return fetch(e,t,n).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.statusText))})).catch((function(e){return e}))},r=new(function(){function n(e){var t=e.baseUrl,r=e.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._baseUrl=t,this._headers=r}var r,o;return r=n,(o=[{key:"setUserInfo",value:function(e){return t("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}},{key:"getUserInfo",value:function(){return t("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"setProfilePic",value:function(e){return t("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}},{key:"getInitialCards",value:function(){return t("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"createCard",value:function(e){return t("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return t("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"})}},{key:"toggleLike",value:function(e,n){return t("".concat(this._baseUrl,"/cards/likes/").concat(n),{headers:this._headers,method:e.target.classList.contains("card__like_active")?"PUT":"DELETE"})}}])&&e(r.prototype,o),n}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:" 978f0b2f-5c84-4cbe-bdf4-1813c3f57b95","Content-Type":"application/json"}});function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n,r,o,i,a){var u=t.name,c=t.link,s=t.likes,l=t.owner,f=t._id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._text=u,this._image=c,this._likes=s,this._owner=l._id,this._cardId=f,this._userId=a,this._cardTemplate=n,this._openImagePopup=r,this._openDeleteForm=o,this._updateLikes=i,this._activeCard="card__like_active"}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._cardTemplate.cloneNode(!0)}},{key:"generateCard",value:function(){var e=this;return this._element=this._getTemplate(),this._owner===this._userId&&(this._cardDelete=this._element.querySelector(".card__delete"),this._cardDelete.classList.add("card__delete_visible"),this._cardDelete.addEventListener("click",(function(t){e._openDeleteForm(t,e._cardId)}))),this._cardImage=this._element.querySelector(".card__image"),this._cardLike=this._element.querySelector(".card__like"),this._likes.some((function(t){return t._id===e._userId}))&&this._cardLike.classList.toggle(this._activeCard),this._setEventListeners(),this._cardImage.src=this._image,this._cardImage.alt=this._text,this._element.querySelector(".card__title").textContent=this._text,this._element.querySelector(".card__likesNumber").textContent=this._likes.length,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage.addEventListener("click",(function(t){e._openImagePopup(t)})),this._cardLike.addEventListener("click",(function(t){e._toggleLike(t)}))}},{key:"_toggleLike",value:function(e){e.target.classList.toggle(this._activeCard),this._updateLikes(e,this._cardId).then((function(t){e.target.parentNode.querySelector(".card__likesNumber").textContent=t.likes.length}))}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t,this.formElement=n}var t,n;return t=e,(n=[{key:"_hasInvalidInput",value:function(){return this.inputList.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=this.formElement.querySelector(".".concat(e.id,"-error"));n.textContent=t,n.classList.add(this.settings.errorClass),e.classList.add(this.settings.inputErrorRedLine)}},{key:"_hideInputError",value:function(e){var t=this.formElement.querySelector(".".concat(e.id,"-error"));t.textContent="",t.classList.remove(this.settings.errorClass),e.classList.remove(this.settings.inputErrorRedLine)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this.buttonElement.disabled=!0,this.buttonElement.classList.add(this.settings.inactiveButtonClass)):(this.buttonElement.disabled=!1,this.buttonElement.classList.remove(this.settings.inactiveButtonClass))}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this.inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_setEventListeners",value:function(){var e=this;this.inputList=Array.from(this.formElement.querySelectorAll(this.settings.inputSelector)),this.buttonElement=this.formElement.querySelector(this.settings.submitButtonSelector),this._toggleButtonState(),this.inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this.formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&a(t.prototype,n),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){var n=t._renderer(e);t.addItem(n)}))}}])&&c(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(t),this._profileDescription=document.querySelector(n),this._avatar=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._profileName.textContent,description:this._profileDescription.textContent,id:this._userId,avatar:this._avatarUrl}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e._id,o=e.avatar;this._profileName.textContent=t,this._profileDescription.textContent=n,this._userId=r,this._avatarUrl=o}}])&&l(t.prototype,n),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popUp=t,this._boundEventHandler=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._boundEventHandler),this._popUp.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._boundEventHandler),this._popUp.classList.remove("popup_opened")}},{key:"setEventListeners",value:function(){var e=this;this._popUp.querySelector(".popup__closeBtn").addEventListener("click",(function(){e.close()})),this._popUp.querySelector(".popup__overlay").addEventListener("click",(function(){e.close()}))}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}}])&&p(t.prototype,n),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},_(e,t,n||e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._largeImageData=t._popUp.querySelector(".imageLarge__image"),t._largeImageName=t._popUp.querySelector(".imageLarge__name"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.currentSrc,n=e.alt;this._largeImageData.src=t,this._largeImageData.alt=t,this._largeImageName.textContent=n,_(b(a.prototype),"open",this).call(this)}}])&&y(t.prototype,n),a}(d);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},w(e,t,n||e)}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function I(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,t,n))._submit=e,r.closeIcon=n,r._form=r._popUp.querySelector(".form"),r}return t=a,(n=[{key:"close",value:function(){this._form.reset(),w(O(a.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){var e,t=function(e){if(Array.isArray(e))return E(e)}(e=this._popUp.querySelectorAll(".form__input"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n={};return t.forEach((function(e){n[e.name]=e.value})),n}},{key:"_submitForm",value:function(e){e.submitter.textContent="Saving...",this._submit(this._getInputValues(),e)}},{key:"setEventListeners",value:function(){var e=this;w(O(a.prototype),"setEventListeners",this).call(this),this._popUp.addEventListener("submit",(function(t){e._submitForm(t)}))}}])&&S(t.prototype,n),a}(d);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},U(e,t,n||e)}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function x(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function a(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,t,n))._submit=e,r}return t=a,(n=[{key:"open",value:function(e,t){this._data=t,this._trigger=e,U(R(a.prototype),"open",this).call(this)}},{key:"close",value:function(){U(R(a.prototype),"close",this).call(this)}},{key:"_submitForm",value:function(){this._submit(this._trigger,this._data)}},{key:"setEventListeners",value:function(){var e=this;U(R(a.prototype),"setEventListeners",this).call(this),this._popUp.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm()}))}}])&&P(t.prototype,n),a}(d),D=n(937),A={fieldsetSelector:".form__fieldset",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_inactive",inputErrorClass:"form__input-error",inputErrorRedLine:"form__input_theme_red",errorClass:"form__input-error_active"},B=document.querySelector(".popup_type_add-place"),N=document.querySelector(".popup_type_edit-profile"),V=document.querySelector(".popup_type_edit-profilePic"),F=document.querySelector(".popup_type_delete-card"),H=document.querySelector("#card").content,J=document.querySelector(".popup_type_image-popup"),M=document.querySelector(".cards"),$=document.querySelector(".profile__edit"),z=document.querySelector(".profile__add-button"),G=(document.querySelector(".profile__name"),document.querySelector(".profile__description"),N.querySelector(".form__input_field_name")),K=N.querySelector(".form__input_field_description"),Q=(B.querySelector(".form__input_field_title"),B.querySelector(".form__input_field_link"),V.querySelector(".form__input_field_link")),W=document.getElementById("logo"),X=document.querySelector(".profile__avatar");function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}W.src=D;var Z,ee=new u(A,B),te=new u(A,N),ne=new u(A,V);ee.enableValidation(),te.enableValidation(),ne.enableValidation(),Promise.all([r.getInitialCards(),r.getUserInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Z=i._id,re.renderItems(o),X.style.backgroundImage="url(".concat(i.avatar,")"),oe.setUserInfo(i,X)})).catch((function(e){console.log(e)}));var re=new s({renderer:function(e){return de(e,H)}},M),oe=new f(".profile__name",".profile__description",X),ie=new C((function(e,t){var n=e.about,o=e.name;r.setUserInfo({about:n,name:o}).then((function(e){oe.setUserInfo(e),t.submitter.textContent="Save",ie.close()}))}),N);ie.setEventListeners();var ae=new C((function(e,t){var n=e.link,o=e.name;r.createCard({link:n,name:o}).then((function(e){var n=de(e,H);re.addItem(n),t.submitter.textContent="Save",ae.close()}))}),B);ae.setEventListeners();var ue=new C((function(e,t){r.setProfilePic(e).then((function(e){X.style.backgroundImage="url(".concat(e.avatar,")"),t.submitter.textContent="Save",ue.close()}))}),V);ue.setEventListeners();var ce=new T((function(e,t){r.deleteCard(t).then((function(t){e.target.parentNode.remove(),ce.close()}))}),F);ce.setEventListeners();var se=new g(J);function le(e){se.open(e.target)}function fe(e,t){ce.open(e,t)}function pe(e,t){return r.toggleLike(e,t)}function de(e,t){return new i(e,t,le,fe,pe,Z).generateCard()}se.setEventListeners(),$.addEventListener("click",(function(){var e=oe.getUserInfo(),t=e.name,n=e.description;G.value=t,K.value=n,te.resetValidation(),ie.open()})),X.addEventListener("click",(function(){var e=oe.getUserInfo().avatar;Q.value=e,ne.resetValidation(),ue.open()})),z.addEventListener("click",(function(){ee.resetValidation(),ae.open()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQ0UsSUFBUXBDLEVBQVcrSixHQUFTUCxjQUFwQnhKLE9BQ1I4SSxFQUFvQnJCLE1BQVF6SCxFQUM1Qm9KLEdBQTRCOEIsa0JBQzVCVCxHQUFjTSxVQW1FaEJwQyxFQUFvQnZHLGlCQUFpQixTQWhFckMsV0FDRThHLEdBQXNCZ0Msa0JBQ3RCWixHQUFnQlMsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzRfMi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80XzIvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF8yLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfMi8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF8yLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80XzIvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfMi8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfMi8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfMi8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfMi8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF8yLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfMi8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF8yLy4vc3JjL3BhZ2UvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiY29uc3QgY3VzdG9tRmV0Y2ggPSAodXJsLCBoZWFkZXJzLCBib2R5KSA9PlxyXG4gIGZldGNoKHVybCwgaGVhZGVycywgYm9keSlcclxuICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c1RleHR9YClcclxuICAgIClcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIHJldHVybiBlcnI7XHJcbiAgICB9KTtcclxuXHJcbmNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFByb2ZpbGVQaWMoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYXZhdGFyKSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVDYXJkKGRhdGEpIHtcclxuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVMaWtlKGV2ZW50LCBjYXJkSWQpIHtcclxuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2xpa2VfYWN0aXZlXCIpXHJcbiAgICAgICAgPyBcIlBVVFwiXHJcbiAgICAgICAgOiBcIkRFTEVURVwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCIgOTc4ZjBiMmYtNWM4NC00Y2JlLWJkZjQtMTgxM2MzZjU3Yjk1XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuIiwiY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgbmFtZSwgbGluaywgbGlrZXMsIG93bmVyLCBfaWQgfSxcbiAgICBjYXJkVGVtcGxhdGUsXG4gICAgb3BlbkltYWdlUG9wdXAsXG4gICAgb3BlbkRlbGV0ZUZvcm0sXG4gICAgdXBkYXRlTGlrZXMsXG4gICAgdXNlcklkXG4gICkge1xuICAgIHRoaXMuX3RleHQgPSBuYW1lO1xuICAgIHRoaXMuX2ltYWdlID0gbGluaztcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xuICAgIHRoaXMuX293bmVyID0gb3duZXIuX2lkO1xuICAgIHRoaXMuX2NhcmRJZCA9IF9pZDtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gY2FyZFRlbXBsYXRlO1xuICAgIHRoaXMuX29wZW5JbWFnZVBvcHVwID0gb3BlbkltYWdlUG9wdXA7XG4gICAgdGhpcy5fb3BlbkRlbGV0ZUZvcm0gPSBvcGVuRGVsZXRlRm9ybTtcbiAgICB0aGlzLl91cGRhdGVMaWtlcyA9IHVwZGF0ZUxpa2VzO1xuICAgIHRoaXMuX2FjdGl2ZUNhcmQgPSBcImNhcmRfX2xpa2VfYWN0aXZlXCI7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICBpZiAodGhpcy5fb3duZXIgPT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgdGhpcy5fY2FyZERlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIik7XG4gICAgICB0aGlzLl9jYXJkRGVsZXRlLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19kZWxldGVfdmlzaWJsZVwiKTtcbiAgICAgIHRoaXMuX2NhcmREZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLl9vcGVuRGVsZXRlRm9ybShldmVudCwgdGhpcy5fY2FyZElkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZExpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKTtcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgoZWxlbWVudCkgPT4gZWxlbWVudFtcIl9pZFwiXSA9PT0gdGhpcy5fdXNlcklkKSkge1xuICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLl9hY3RpdmVDYXJkKTtcbiAgICB9XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5faW1hZ2U7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX3RleHQ7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dDtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZXNOdW1iZXJcIikudGV4dENvbnRlbnQgPVxuICAgICAgdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9vcGVuSW1hZ2VQb3B1cChldmVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZExpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5fdG9nZ2xlTGlrZShldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlTGlrZShldmVudCkge1xuICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuX2FjdGl2ZUNhcmQpO1xuICAgIHRoaXMuX3VwZGF0ZUxpa2VzKGV2ZW50LCB0aGlzLl9jYXJkSWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlc051bWJlclwiKS50ZXh0Q29udGVudCA9XG4gICAgICAgIHJlcy5saWtlcy5sZW5ndGg7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FyZCB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLmZvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5zZXR0aW5ncy5pbnB1dEVycm9yUmVkTGluZSk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZXR0aW5ncy5pbnB1dEVycm9yUmVkTGluZSk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2V0dGluZ3MuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuYnV0dG9uRWxlbWVudCA9IHRoaXMuZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhyZXMpIHtcclxuICAgIHJlcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgdGhpcy5hZGRJdGVtKGVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IocHJvZmlsZU5hbWUsIHByb2ZpbGVEZXNjcmlwdGlvbiwgYXZhdGFySW1hZ2UpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZSk7XHJcbiAgICB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVEZXNjcmlwdGlvbik7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXJJbWFnZTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQsXHJcbiAgICAgIGlkOiB0aGlzLl91c2VySWQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyVXJsLFxyXG4gICAgfTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgX2lkLCBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gYWJvdXQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSBfaWQ7XHJcbiAgICB0aGlzLl9hdmF0YXJVcmwgPSBhdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wVXApIHtcclxuICAgIHRoaXMuX3BvcFVwID0gcG9wVXA7XHJcbiAgICB0aGlzLl9ib3VuZEV2ZW50SGFuZGxlciA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7IC8vIHJlbW92ZUV2ZW50TGlzdGVuZXIgb25seSB3b3JrcyB3aXRoIHRoaXMuXHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fYm91bmRFdmVudEhhbmRsZXIpO1xyXG4gICAgdGhpcy5fcG9wVXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fYm91bmRFdmVudEhhbmRsZXIpO1xyXG4gICAgdGhpcy5fcG9wVXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wVXBcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlQnRuXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLl9wb3BVcFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fb3ZlcmxheVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcFVwKSB7XHJcbiAgICBzdXBlcihwb3BVcCk7XHJcbiAgICB0aGlzLl9sYXJnZUltYWdlRGF0YSA9IHRoaXMuX3BvcFVwLnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2VMYXJnZV9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9sYXJnZUltYWdlTmFtZSA9IHRoaXMuX3BvcFVwLnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2VMYXJnZV9fbmFtZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oeyBjdXJyZW50U3JjLCBhbHQgfSkge1xyXG4gICAgdGhpcy5fbGFyZ2VJbWFnZURhdGEuc3JjID0gY3VycmVudFNyYztcclxuICAgIHRoaXMuX2xhcmdlSW1hZ2VEYXRhLmFsdCA9IGN1cnJlbnRTcmM7XHJcbiAgICB0aGlzLl9sYXJnZUltYWdlTmFtZS50ZXh0Q29udGVudCA9IGFsdDtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoY2FsbGJhY2ssIHBvcFVwLCBjbG9zZUljb24pIHtcclxuICAgIHN1cGVyKHBvcFVwLCBjbG9zZUljb24pO1xyXG4gICAgdGhpcy5fc3VibWl0ID0gY2FsbGJhY2s7XHJcbiAgICB0aGlzLmNsb3NlSWNvbiA9IGNsb3NlSWNvbjtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3BVcC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dHMgPSBbLi4udGhpcy5fcG9wVXAucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKV07XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG5cclxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBfc3VibWl0Rm9ybShldmVudCkge1xyXG4gICAgZXZlbnQuc3VibWl0dGVyLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgIHRoaXMuX3N1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpLCBldmVudCk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3BVcC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9zdWJtaXRGb3JtKGV2ZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBwb3BVcCwgY2xvc2VJY29uKSB7XHJcbiAgICBzdXBlcihwb3BVcCwgY2xvc2VJY29uKTtcclxuICAgIHRoaXMuX3N1Ym1pdCA9IGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgb3BlbihldmVudCwgZGF0YSkge1xyXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLl90cmlnZ2VyID0gZXZlbnQ7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfc3VibWl0Rm9ybSgpIHtcclxuICAgIHRoaXMuX3N1Ym1pdCh0aGlzLl90cmlnZ2VyLCB0aGlzLl9kYXRhKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcFVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRGb3JtKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGZpZWxkc2V0U2VsZWN0b3I6IFwiLmZvcm1fX2ZpZWxkc2V0XCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXRfaW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JcIixcclxuICBpbnB1dEVycm9yUmVkTGluZTogXCJmb3JtX19pbnB1dF90aGVtZV9yZWRcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFBsYWNlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGQtcGxhY2VcIik7XHJcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlUGljRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGVQaWNcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgZGVsZXRlQ2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmRcIik7XHJcbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRcIikuY29udGVudDtcclxuZXhwb3J0IGNvbnN0IGltYWdlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfaW1hZ2UtcG9wdXBcIik7XHJcbmV4cG9ydCBjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNcIik7XHJcbmV4cG9ydCBjb25zdCBvcGVuRWRpdFByb2ZpbGVGb3JtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0XCIpO1xyXG5leHBvcnQgY29uc3Qgb3BlbkFkZFBsYWNlRm9ybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gZWRpdFByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9faW5wdXRfZmllbGRfbmFtZVwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBpbnB1dERlc2NyaXB0aW9uID0gZWRpdFByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9faW5wdXRfZmllbGRfZGVzY3JpcHRpb25cIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgaW5wdXRJbWFnZVRpdGxlID0gYWRkUGxhY2VGb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9faW5wdXRfZmllbGRfdGl0bGVcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgaW5wdXRJbWFnZUxpbmsgPSBhZGRQbGFjZUZvcm0ucXVlcnlTZWxlY3RvcihcclxuICBcIi5mb3JtX19pbnB1dF9maWVsZF9saW5rXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0UHJvZmlsZVBpY0xpbmsgPSBlZGl0UHJvZmlsZVBpY0Zvcm0ucXVlcnlTZWxlY3RvcihcclxuICBcIi5mb3JtX19pbnB1dF9maWVsZF9saW5rXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGxvZ29JbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9nb1wiKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcbiIsImltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhTdWJtaXQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanNcIjtcbmltcG9ydCBcIi4uL3ZlbmRvci9ub3JtYWxpemUuY3NzXCI7XG5pbXBvcnQgXCIuLi8uLi9zcmMvaW5kZXguY3NzXCI7XG5pbXBvcnQgXCIuLi9wYWdlL2luZGV4LmNzc1wiO1xuaW1wb3J0IFwiLi4vc3R5bGVzL3ZhcmlhYmxlcy5jc3NcIjtcbmltcG9ydCBsb2dvIGZyb20gXCIuLi9pbWFnZXMvbG9nby5zdmdcIjtcbmltcG9ydCB7XG4gIHNldHRpbmdzLFxuICBhZGRQbGFjZUZvcm0sXG4gIGVkaXRQcm9maWxlRm9ybSxcbiAgZGVsZXRlQ2FyZEZvcm0sXG4gIGVkaXRQcm9maWxlUGljRm9ybSxcbiAgY2FyZFRlbXBsYXRlLFxuICBpbWFnZVBvcHVwLFxuICBjYXJkcyxcbiAgb3BlbkVkaXRQcm9maWxlRm9ybUJ0bixcbiAgb3BlbkFkZFBsYWNlRm9ybUJ0bixcbiAgaW5wdXRQcm9maWxlUGljTGluayxcbiAgaW5wdXROYW1lLFxuICBpbnB1dERlc2NyaXB0aW9uLFxuICBsb2dvSW1hZ2UsXG4gIGF2YXRhckltYWdlLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmxvZ29JbWFnZS5zcmMgPSBsb2dvO1xuXG5jb25zdCBhZGRQbGFjZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYWRkUGxhY2VGb3JtKTtcbmNvbnN0IGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBlZGl0UHJvZmlsZUZvcm0pO1xuY29uc3QgZWRpdFByb2ZpbGVQaWNGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHNldHRpbmdzLFxuICBlZGl0UHJvZmlsZVBpY0Zvcm1cbik7XG5cbmFkZFBsYWNlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5lZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuZWRpdFByb2ZpbGVQaWNGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxubGV0IHVzZXJJZDtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKVxuICAudGhlbigoW2NhcmREYXRhLCB1c2VyRGF0YV0pID0+IHtcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgZGVmYXVsdENhcmRzLnJlbmRlckl0ZW1zKGNhcmREYXRhKTtcbiAgICBhdmF0YXJJbWFnZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7dXNlckRhdGEuYXZhdGFyfSlgO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhLCBhdmF0YXJJbWFnZSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cbmNvbnN0IGRlZmF1bHRDYXJkcyA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICByZXR1cm4gY2xvbmVDYXJkKGl0ZW0sIGNhcmRUZW1wbGF0ZSk7XG4gICAgfSxcbiAgfSxcbiAgY2FyZHNcbik7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxuICBcIi5wcm9maWxlX19uYW1lXCIsXG4gIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXG4gIGF2YXRhckltYWdlXG4pO1xuXG5jb25zdCB1c2VySW5mb0VsZW1lbnQgPSBuZXcgUG9wdXBXaXRoRm9ybShzdWJtaXRVc2VySW5mbywgZWRpdFByb2ZpbGVGb3JtKTtcbnVzZXJJbmZvRWxlbWVudC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBuZXdQbGFjZUVsZW1lbnQgPSBuZXcgUG9wdXBXaXRoRm9ybShzdWJtaXRBZGROZXdQbGFjZUZvcm0sIGFkZFBsYWNlRm9ybSk7XG5uZXdQbGFjZUVsZW1lbnQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgbmV3UHJvZmlsZVBpYyA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBzdWJtaXROZXdQcm9maWxlUGljLFxuICBlZGl0UHJvZmlsZVBpY0Zvcm1cbik7XG5uZXdQcm9maWxlUGljLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGRlbGV0ZUNhcmRFbGVtZW50ID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChzdWJtaXRDYXJkRGVsZXRlLCBkZWxldGVDYXJkRm9ybSk7XG5kZWxldGVDYXJkRWxlbWVudC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBsYXJnZUltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKGltYWdlUG9wdXApO1xubGFyZ2VJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBvcGVuRWRpdFByb2ZpbGVQb3B1cCgpIHtcbiAgY29uc3QgeyBuYW1lLCBkZXNjcmlwdGlvbiB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lLnZhbHVlID0gbmFtZTtcbiAgaW5wdXREZXNjcmlwdGlvbi52YWx1ZSA9IGRlc2NyaXB0aW9uO1xuICBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHVzZXJJbmZvRWxlbWVudC5vcGVuKCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5FZGl0UHJvZmlsZVBpY1BvcHVwKCkge1xuICBjb25zdCB7IGF2YXRhciB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXRQcm9maWxlUGljTGluay52YWx1ZSA9IGF2YXRhcjtcbiAgZWRpdFByb2ZpbGVQaWNGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBuZXdQcm9maWxlUGljLm9wZW4oKTtcbn1cblxuZnVuY3Rpb24gb3BlbkFkZFBsYWNlUG9wdXAoKSB7XG4gIGFkZFBsYWNlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgbmV3UGxhY2VFbGVtZW50Lm9wZW4oKTtcbn1cblxuZnVuY3Rpb24gb3BlbkltYWdlUG9wdXAoZXZlbnQpIHtcbiAgbGFyZ2VJbWFnZS5vcGVuKGV2ZW50LnRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5EZWxldGVGb3JtKGV2ZW50LCBjYXJkSWQpIHtcbiAgZGVsZXRlQ2FyZEVsZW1lbnQub3BlbihldmVudCwgY2FyZElkKTtcbn1cblxuZnVuY3Rpb24gc3VibWl0VXNlckluZm8oeyBhYm91dCwgbmFtZSB9LCBldmVudCkge1xuICBhcGkuc2V0VXNlckluZm8oeyBhYm91dCwgbmFtZSB9KS50aGVuKChyZXMpID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xuICAgIGV2ZW50LnN1Ym1pdHRlci50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuICAgIHVzZXJJbmZvRWxlbWVudC5jbG9zZSgpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc3VibWl0TmV3UHJvZmlsZVBpYyhhdmF0YXIsIGV2ZW50KSB7XG4gIGFwaS5zZXRQcm9maWxlUGljKGF2YXRhcikudGhlbigocmVzKSA9PiB7XG4gICAgYXZhdGFySW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3Jlcy5hdmF0YXJ9KWA7XG4gICAgZXZlbnQuc3VibWl0dGVyLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgbmV3UHJvZmlsZVBpYy5jbG9zZSgpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc3VibWl0QWRkTmV3UGxhY2VGb3JtKHsgbGluaywgbmFtZSB9LCBldmVudCkge1xuICBhcGkuY3JlYXRlQ2FyZCh7IGxpbmssIG5hbWUgfSkudGhlbigocmVzKSA9PiB7XG4gICAgY29uc3QgY2FyZCA9IGNsb25lQ2FyZChyZXMsIGNhcmRUZW1wbGF0ZSk7XG4gICAgZGVmYXVsdENhcmRzLmFkZEl0ZW0oY2FyZCk7XG4gICAgZXZlbnQuc3VibWl0dGVyLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gICAgbmV3UGxhY2VFbGVtZW50LmNsb3NlKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzdWJtaXRDYXJkRGVsZXRlKGV2ZW50LCBzZWxlY3RlZENhcmQpIHtcbiAgYXBpLmRlbGV0ZUNhcmQoc2VsZWN0ZWRDYXJkKS50aGVuKChyZXMpID0+IHtcbiAgICBldmVudC50YXJnZXQucGFyZW50Tm9kZS5yZW1vdmUoKTtcbiAgICBkZWxldGVDYXJkRWxlbWVudC5jbG9zZSgpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTGlrZXMoZXZlbnQsIGNhcmRJZCkge1xuICByZXR1cm4gYXBpLnRvZ2dsZUxpa2UoZXZlbnQsIGNhcmRJZCk7XG59XG5cbmZ1bmN0aW9uIGNsb25lQ2FyZChpdGVtLCBjYXJkVGVtcGxhdGUpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGl0ZW0sXG4gICAgY2FyZFRlbXBsYXRlLFxuICAgIG9wZW5JbWFnZVBvcHVwLFxuICAgIG9wZW5EZWxldGVGb3JtLFxuICAgIHVwZGF0ZUxpa2VzLFxuICAgIHVzZXJJZFxuICApO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxub3BlbkVkaXRQcm9maWxlRm9ybUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlbkVkaXRQcm9maWxlUG9wdXApO1xuYXZhdGFySW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5FZGl0UHJvZmlsZVBpY1BvcHVwKTtcbm9wZW5BZGRQbGFjZUZvcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5BZGRQbGFjZVBvcHVwKTtcblxuZXhwb3J0IHsgc2V0dGluZ3MsIGFkZFBsYWNlRm9ybVZhbGlkYXRvciwgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yIH07XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiY3VzdG9tRmV0Y2giLCJ1cmwiLCJoZWFkZXJzIiwiYm9keSIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiY2F0Y2giLCJlcnIiLCJhcGkiLCJBcGkiLCJiYXNlVXJsIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJkYXRhIiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhciIsImlkIiwiZXZlbnQiLCJjYXJkSWQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImF1dGhvcml6YXRpb24iLCJDYXJkIiwiY2FyZFRlbXBsYXRlIiwib3BlbkltYWdlUG9wdXAiLCJvcGVuRGVsZXRlRm9ybSIsInVwZGF0ZUxpa2VzIiwidXNlcklkIiwibmFtZSIsImxpbmsiLCJsaWtlcyIsIm93bmVyIiwiX2lkIiwiX3RleHQiLCJfaW1hZ2UiLCJfbGlrZXMiLCJfb3duZXIiLCJfY2FyZElkIiwiX3VzZXJJZCIsIl9jYXJkVGVtcGxhdGUiLCJfb3BlbkltYWdlUG9wdXAiLCJfb3BlbkRlbGV0ZUZvcm0iLCJfdXBkYXRlTGlrZXMiLCJfYWN0aXZlQ2FyZCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmREZWxldGUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jYXJkSW1hZ2UiLCJfY2FyZExpa2UiLCJzb21lIiwiZWxlbWVudCIsInRvZ2dsZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiX3RvZ2dsZUxpa2UiLCJwYXJlbnROb2RlIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dExpc3QiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJlcnJvckNsYXNzIiwiaW5wdXRFcnJvclJlZExpbmUiLCJyZW1vdmUiLCJfaGFzSW52YWxpZElucHV0IiwiYnV0dG9uRWxlbWVudCIsImRpc2FibGVkIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJTZWN0aW9uIiwiY29udGFpbmVyIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJwcmVwZW5kIiwiaXRlbSIsImFkZEl0ZW0iLCJVc2VySW5mbyIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwiYXZhdGFySW1hZ2UiLCJfcHJvZmlsZU5hbWUiLCJkb2N1bWVudCIsIl9wcm9maWxlRGVzY3JpcHRpb24iLCJfYXZhdGFyIiwiZGVzY3JpcHRpb24iLCJfYXZhdGFyVXJsIiwiYWJvdXQiLCJQb3B1cCIsInBvcFVwIiwiX3BvcFVwIiwiX2JvdW5kRXZlbnRIYW5kbGVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsImtleSIsIlBvcHVwV2l0aEltYWdlIiwiX2xhcmdlSW1hZ2VEYXRhIiwiX2xhcmdlSW1hZ2VOYW1lIiwiY3VycmVudFNyYyIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsYmFjayIsImNsb3NlSWNvbiIsIl9zdWJtaXQiLCJfZm9ybSIsInJlc2V0IiwiaW5wdXRzIiwiaW5wdXRWYWx1ZXMiLCJ2YWx1ZSIsInN1Ym1pdHRlciIsIl9nZXRJbnB1dFZhbHVlcyIsIl9zdWJtaXRGb3JtIiwiUG9wdXBXaXRoU3VibWl0IiwiX2RhdGEiLCJfdHJpZ2dlciIsImUiLCJmaWVsZHNldFNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiYWRkUGxhY2VGb3JtIiwiZWRpdFByb2ZpbGVGb3JtIiwiZWRpdFByb2ZpbGVQaWNGb3JtIiwiZGVsZXRlQ2FyZEZvcm0iLCJjb250ZW50IiwiaW1hZ2VQb3B1cCIsImNhcmRzIiwib3BlbkVkaXRQcm9maWxlRm9ybUJ0biIsIm9wZW5BZGRQbGFjZUZvcm1CdG4iLCJpbnB1dE5hbWUiLCJpbnB1dERlc2NyaXB0aW9uIiwiaW5wdXRQcm9maWxlUGljTGluayIsImxvZ29JbWFnZSIsImdldEVsZW1lbnRCeUlkIiwibG9nbyIsImFkZFBsYWNlRm9ybVZhbGlkYXRvciIsImVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciIsImVkaXRQcm9maWxlUGljRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImNhcmREYXRhIiwidXNlckRhdGEiLCJkZWZhdWx0Q2FyZHMiLCJyZW5kZXJJdGVtcyIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNvbnNvbGUiLCJsb2ciLCJjbG9uZUNhcmQiLCJ1c2VySW5mb0VsZW1lbnQiLCJzZXRFdmVudExpc3RlbmVycyIsIm5ld1BsYWNlRWxlbWVudCIsImNyZWF0ZUNhcmQiLCJjYXJkIiwibmV3UHJvZmlsZVBpYyIsInNldFByb2ZpbGVQaWMiLCJkZWxldGVDYXJkRWxlbWVudCIsInNlbGVjdGVkQ2FyZCIsImRlbGV0ZUNhcmQiLCJsYXJnZUltYWdlIiwib3BlbiIsInRvZ2dsZUxpa2UiLCJnZW5lcmF0ZUNhcmQiLCJyZXNldFZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9